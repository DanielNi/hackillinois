<!doctype html>
<body>
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=768415276511807";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>
hello
<div class="fb-login-button" data-max-rows="3" data-size="medium" data-show-faces="false" data-auto-logout-link="false"></div>
<input type="image" id="alertButton" src="settings.png" onclick=logIn()>
</body>


<script type="text/javascript" src="http://cdn.firebase.com/js/client/1.0.11/firebase.js"></script>
 <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
  <script type='text/javascript' src='https://cdn.firebase.com/js/simple-login/1.3.2/firebase-simple-login.js'></script>

<script>
function logIn() {
  alert("logging in");
	auth.login('facebook', {
 		rememberMe: true,
  	scope: 'user_friends,friends_photos'
	});
}

var ref   = new Firebase('https://sweltering-fire-4327.firebaseio.com/');
var users = ref.child('users');

var auth = new FirebaseSimpleLogin(ref, function(error, user) { 
	alert("check");
  if (error) { // an error occurred while attempting login
    alert("error")
    console.log(error);
	} else if (user) { // user authenticated with Firebase
	  	console.log('User ID: ' + user.id + ', Provider: ' + user.provider);
			
	    alert("logged in");

	    var authtoken = user.firebaseAuthToken;
	    
	    var userid = user.id;
	    users.once('value', function(snap) {
	   //  	alert("snap " + JSON.stringify(snap.val()));

	    	if (true) {
				var userRef = users.child(userid);
				var friends = userRef.child('friends');
	    		var str1 = "/";
	    		var str2 = str1.concat("me");
				var str = str2.concat("/friends");

				// var str3 = str.concat(token);
	    	alert("stepping into facebook api " + user.accessToken);
		    FB.api(
		      str,
		      function(response) {
		        if (response && !response.error) {
		        	alert("facebook");
		          $.each(response.data, 
		            function(i, v) {
		              friends.child(v.id).set(v.name);
		            }
		          );
		        } else {
		        	alert("facebook error")
		        }
		      },
		      { access_token : user.accessToken }
		    );
		   }
	    });

		
		

	} else { // user is logged out
    alert("error2")
	}
});
</script>